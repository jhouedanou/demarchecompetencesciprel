{"version":3,"file":"user.js","sourceRoot":"","sources":["../../../../src/webparts/demarcheCompetence/stores/user.ts"],"names":[],"mappings":"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","sourcesContent":["import { defineStore } from 'pinia';\nimport { ref, computed } from 'vue';\nimport type {\n  UserProgress,\n  CompetenceArea\n} from '../types/index';\nimport { UserService, User } from '@services/UserService';\n\nexport const useUserStore = defineStore('user', () => {\n  // State\n  const loading = ref(false);\n  const error = ref<string | null>(null);\n  \n  // User Information\n  const currentUser = ref<User | null>(null);\n  const isAuthenticated = ref(false);\n  \n  // User Progress\n  const userProgress = ref<UserProgress[]>([]);\n  const competenceAreas = ref<(CompetenceArea & { userProgress?: UserProgress })[]>([]);\n  \n  // User Statistics\n  const userStatistics = ref<{\n    totalQuizzesTaken: number;\n    averageQuizScore: number;\n    timeSpentLearning: number;\n    competencesInProgress: number;\n    competencesCompleted: number;\n    lastActivityDate: Date | null;\n  } | null>(null);\n\n  // Overall Progress\n  const overallProgress = ref<{\n    overallPercentage: number;\n    competenceBreakdown: { [area: string]: number };\n    totalAssessments: number;\n    nextAssessmentDue: Date | null;\n  } | null>(null);\n\n  // Upcoming Assessments\n  const upcomingAssessments = ref<{\n    competenceArea: string;\n    assessmentDate: Date;\n    currentLevel: number;\n    targetLevel: number;\n    daysUntilDue: number;\n  }[]>([]);\n\n  // User service instance (will be injected)\n  let userService: UserService | null = null;\n\n  // Computed\n  const isUserLoaded = computed(() => currentUser.value !== null);\n  \n  const userName = computed(() => currentUser.value?.title || 'Utilisateur');\n  \n  const userEmail = computed(() => currentUser.value?.email || '');\n\n  const hasProgress = computed(() => userProgress.value.length > 0);\n\n  const completedCompetences = computed(() => \n    userProgress.value.filter(p => p.progress >= 100).length\n  );\n\n  const inProgressCompetences = computed(() => \n    userProgress.value.filter(p => p.progress > 0 && p.progress < 100).length\n  );\n\n  const notStartedCompetences = computed(() => \n    userProgress.value.filter(p => p.progress === 0).length\n  );\n\n  const averageCompetenceLevel = computed(() => {\n    if (userProgress.value.length === 0) return 0;\n    \n    const totalLevel = userProgress.value.reduce((sum, progress) => sum + progress.currentLevel, 0);\n    return Math.round((totalLevel / userProgress.value.length) * 10) / 10;\n  });\n\n  const nextAssessmentDue = computed(() => {\n    if (upcomingAssessments.value.length === 0) return null;\n    \n    return upcomingAssessments.value\n      .sort((a, b) => a.assessmentDate.getTime() - b.assessmentDate.getTime())[0];\n  });\n\n  const overallCompletionPercentage = computed(() => \n    overallProgress.value?.overallPercentage || 0\n  );\n\n  const isProfileComplete = computed(() => {\n    return currentUser.value && userProgress.value.length > 0;\n  });\n\n  // Actions\n  function setUserService(service: UserService) {\n    userService = service;\n  }\n\n  async function loadCurrentUser() {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      currentUser.value = await userService.getCurrentUser();\n      isAuthenticated.value = true;\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors du chargement de l\\'utilisateur';\n      isAuthenticated.value = false;\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function loadUserProgress(userId?: string) {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      userProgress.value = await userService.loadUserProgress(userId);\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors du chargement des progrès';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function loadCompetenceAreas() {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      competenceAreas.value = await userService.getCompetenceAreasWithProgress();\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors du chargement des domaines de compétence';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function loadUserStatistics() {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      userStatistics.value = await userService.getUserStatistics();\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors du chargement des statistiques';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function loadOverallProgress() {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      overallProgress.value = await userService.calculateOverallProgress();\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors du calcul des progrès globaux';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function loadUpcomingAssessments(daysAhead: number = 30) {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      upcomingAssessments.value = await userService.getUpcomingAssessments(daysAhead);\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors du chargement des évaluations à venir';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function saveUserProgress(progress: UserProgress) {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      await userService.saveUserProgress(progress);\n      \n      // Update local state\n      const existingIndex = userProgress.value.findIndex(p => p.competenceArea === progress.competenceArea);\n      if (existingIndex >= 0) {\n        userProgress.value[existingIndex] = progress;\n      } else {\n        userProgress.value.push(progress);\n      }\n      \n      // Refresh related data\n      await Promise.all([\n        loadOverallProgress(),\n        loadUpcomingAssessments()\n      ]);\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors de la sauvegarde des progrès';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function updateCompetenceLevel(competenceArea: string, newLevel: number, assessmentDate?: Date) {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      await userService.updateCompetenceLevel(competenceArea, newLevel, assessmentDate);\n      \n      // Reload user progress to reflect changes\n      await loadUserProgress();\n      await loadOverallProgress();\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors de la mise à jour du niveau de compétence';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function setCompetenceTargets(targets: { [competenceArea: string]: number }) {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      await userService.setCompetenceTargets(targets);\n      \n      // Reload user progress to reflect changes\n      await loadUserProgress();\n      await loadOverallProgress();\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors de la définition des objectifs';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function scheduleAssessment(competenceArea: string, assessmentDate: Date) {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      await userService.scheduleNextAssessment(competenceArea, assessmentDate);\n      \n      // Update local state\n      const progress = userProgress.value.find(p => p.competenceArea === competenceArea);\n      if (progress) {\n        progress.nextAssessment = assessmentDate;\n      }\n      \n      // Refresh upcoming assessments\n      await loadUpcomingAssessments();\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors de la programmation de l\\'évaluation';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function exportUserData(format: 'json' | 'csv' = 'json') {\n    if (!userService) throw new Error('User service not initialized');\n    \n    loading.value = true;\n    error.value = null;\n    \n    try {\n      await userService.exportUserData(format);\n    } catch (err) {\n      error.value = err instanceof Error ? err.message : 'Erreur lors de l\\'export des données';\n      throw err;\n    } finally {\n      loading.value = false;\n    }\n  }\n\n  async function initializeUser() {\n    try {\n      await loadCurrentUser();\n      \n      if (isAuthenticated.value) {\n        // Load all user-related data in parallel\n        await Promise.all([\n          loadUserProgress(),\n          loadCompetenceAreas(),\n          loadUserStatistics(),\n          loadOverallProgress(),\n          loadUpcomingAssessments()\n        ]);\n      }\n    } catch (err) {\n      console.error('Error initializing user:', err);\n      throw err;\n    }\n  }\n\n  async function refreshUserData() {\n    if (!isAuthenticated.value) return;\n    \n    try {\n      await Promise.all([\n        loadUserProgress(),\n        loadUserStatistics(),\n        loadOverallProgress(),\n        loadUpcomingAssessments()\n      ]);\n    } catch (err) {\n      console.error('Error refreshing user data:', err);\n      throw err;\n    }\n  }\n\n  function getProgressForCompetence(competenceArea: string): UserProgress | undefined {\n    return userProgress.value.find(p => p.competenceArea === competenceArea);\n  }\n\n  function getCompetenceAreaById(id: string): (CompetenceArea & { userProgress?: UserProgress }) | undefined {\n    return competenceAreas.value.find(area => area.id === id);\n  }\n\n  function getCompetenceAreaByName(name: string): (CompetenceArea & { userProgress?: UserProgress }) | undefined {\n    return competenceAreas.value.find(area => area.name === name);\n  }\n\n  function calculateProgressPercentage(currentLevel: number, targetLevel: number): number {\n    if (targetLevel === 0) return 0;\n    return Math.min(Math.round((currentLevel / targetLevel) * 100), 100);\n  }\n\n  function getNextMilestone(competenceArea: string): { level: number; title: string; description: string } | null {\n    const progress = getProgressForCompetence(competenceArea);\n    const area = getCompetenceAreaByName(competenceArea);\n    \n    if (!progress || !area) return null;\n    \n    const nextLevel = progress.currentLevel + 1;\n    const milestone = area.levels.find(level => level.level === nextLevel);\n    \n    return milestone ? {\n      level: milestone.level,\n      title: milestone.title,\n      description: milestone.description\n    } : null;\n  }\n\n  function getDaysUntilNextAssessment(competenceArea: string): number | null {\n    const progress = getProgressForCompetence(competenceArea);\n    if (!progress) return null;\n    \n    const today = new globalThis.Date();\n    const nextAssessment = new globalThis.Date(progress.nextAssessment.getTime());\n    const diffTime = nextAssessment.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    \n    return diffDays;\n  }\n\n  function isAssessmentOverdue(competenceArea: string): boolean {\n    const daysUntil = getDaysUntilNextAssessment(competenceArea);\n    return daysUntil !== null && daysUntil < 0;\n  }\n\n  function getCompetencesByProgress(): {\n    completed: UserProgress[];\n    inProgress: UserProgress[];\n    notStarted: UserProgress[];\n  } {\n    return {\n      completed: userProgress.value.filter(p => p.progress >= 100),\n      inProgress: userProgress.value.filter(p => p.progress > 0 && p.progress < 100),\n      notStarted: userProgress.value.filter(p => p.progress === 0)\n    };\n  }\n\n  function getRecentActivity(days: number = 30): UserProgress[] {\n    const cutoffDate = new globalThis.Date();\n    cutoffDate.setDate(cutoffDate.getDate() - days);\n    \n    return userProgress.value\n      .filter(p => new globalThis.Date(p.lastAssessment.getTime()) >= cutoffDate)\n      .sort((a, b) => new globalThis.Date(b.lastAssessment.getTime()).getTime() - new globalThis.Date(a.lastAssessment.getTime()).getTime());\n  }\n\n  // Clear all data\n  function clearAllData() {\n    currentUser.value = null;\n    isAuthenticated.value = false;\n    userProgress.value = [];\n    competenceAreas.value = [];\n    userStatistics.value = null;\n    overallProgress.value = null;\n    upcomingAssessments.value = [];\n    error.value = null;\n  }\n\n  function logout() {\n    clearAllData();\n  }\n\n  // Error handling\n  function clearError() {\n    error.value = null;\n  }\n\n  function setError(message: string) {\n    error.value = message;\n  }\n\n  return {\n    // State\n    loading,\n    error,\n    currentUser,\n    isAuthenticated,\n    userProgress,\n    competenceAreas,\n    userStatistics,\n    overallProgress,\n    upcomingAssessments,\n\n    // Computed\n    isUserLoaded,\n    userName,\n    userEmail,\n    hasProgress,\n    completedCompetences,\n    inProgressCompetences,\n    notStartedCompetences,\n    averageCompetenceLevel,\n    nextAssessmentDue,\n    overallCompletionPercentage,\n    isProfileComplete,\n\n    // Actions\n    setUserService,\n    loadCurrentUser,\n    loadUserProgress,\n    loadCompetenceAreas,\n    loadUserStatistics,\n    loadOverallProgress,\n    loadUpcomingAssessments,\n    saveUserProgress,\n    updateCompetenceLevel,\n    setCompetenceTargets,\n    scheduleAssessment,\n    exportUserData,\n    initializeUser,\n    refreshUserData,\n    getProgressForCompetence,\n    getCompetenceAreaById,\n    getCompetenceAreaByName,\n    calculateProgressPercentage,\n    getNextMilestone,\n    getDaysUntilNextAssessment,\n    isAssessmentOverdue,\n    getCompetencesByProgress,\n    getRecentActivity,\n    clearAllData,\n    logout,\n    clearError,\n    setError\n  };\n});"]}